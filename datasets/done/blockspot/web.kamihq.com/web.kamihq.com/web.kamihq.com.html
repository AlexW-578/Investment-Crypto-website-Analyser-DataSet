<!DOCTYPE html>
<!--

+-----------------------------------------------------------+
|                 __                     .__                |
|                |  | _______     _____  |__|               |
|                |  |/ /\__  \   /     \ |  |               |
|                |    <  / __ \_|  Y Y  \|  |               |
|                |__|_ \(____  /|__|_|  /|__|               |
|                     \/     \/       \/                    |
|                                   (C) 2014-19 KAMI LTD    |
|                                                           |
|                                                           |
|         Developer APIs available at www.kamiapi.com       |
|                                                           |
+-----------------------------------------------------------+
-->


<!--
Copyright 2012 Mozilla Foundation

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.

Adobe CMap resources are covered by their own copyright but the same license:

    Copyright 1990-2015 Adobe Systems Incorporated.

See https://github.com/adobe-type-tools/cmap-resources
-->
<html dir="ltr" mozdisallowselectionprint moznomarginboxes id="ng-app" ng-app="notable" prevent-touch-zoom>
  <!-- undefined -->
  <head>
    <meta name="robots" content="noindex">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"/>
    <meta property="og:image:secure_url" content="https://web.kamihq.com/web/images/icon256.png" />
    <meta name="google" content="notranslate">
    <title>Kami</title>

    <script src="browser_support_check.js" async></script>

    <link rel="icon" href="images/icon19.png">
    <link rel="apple-touch-icon-precomposed" href="images/kami-logo-apple.png" />

    <link rel="dns-prefetch" href="t.kamiaccess.com">
    <link rel="dns-prefetch" href="h.kamiaccessfiles.com">
    <link rel="dns-prefetch" href="c.kamifiles.com">
    <link rel="dns-prefetch" href="web.kamihq.com">
    <link rel="dns-prefetch" href="accounts.google.com">
    <link rel="dns-prefetch" href="oauth.googleusercontent.com">
    <link rel="dns-prefetch" href="apis.google.com">
    <link rel="dns-prefetch" href="ssl.gstatic.com">
    <link rel="dns-prefetch" href="content.googleapis.com">
    <link rel="dns-prefetch" href="www.googleapis.com">
    <link rel="dns-prefetch" href="api.kamihq.com">
    <link href='https://web.kamihq.com' rel='preconnect' crossorigin>
    <link href='https://accounts.google.com' rel='preconnect' crossorigin>
    <link href='https://oauth.googleusercontent.com' rel='preconnect' crossorigin>
    <link href='https://apis.google.com' rel='preconnect' crossorigin>
    <link href='https://ssl.gstatic.com' rel='preconnect' crossorigin>
    <link href='https://content.googleapis.com' rel='preconnect' crossorigin>
    <link href='https://www.googleapis.com' rel='preconnect' crossorigin>
    <link href='https://api.kamihq.com' rel='preconnect' crossorigin>
    <link href='https://c.kamifiles.com' rel='preconnect' crossorigin>

    <meta http-equiv="X-UA-Compatible" content="IE=edge">





<link href="/web/notablecompiled/2.0.20297-20250508024732/styles/notable.css" rel="stylesheet"><script src="/web/notablecompiled/2.0.20297-20250508024732/notable.js"></script><script src="/web/notablecompiled/2.0.20297-20250508024732/operative.js"></script>
<!-- This snippet is used in production (included from viewer.html) -->
<script src="notablecompiled/2.0.20297-20250508024732/l10n.js"></script>

<script src="notablecompiled/2.0.20297-20250508024732/compatibility.js"></script>
<script src="notablecompiled/2.0.20297-20250508024732/pdf.js"></script>
<script src="notablecompiled/2.0.20297-20250508024732/debugger.js"></script>
<script src="notablecompiled/2.0.20297-20250508024732/viewer.js"></script>


    <link rel="chrome-webstore-item" href="https://chrome.google.com/webstore/detail/ecnphlgnajanjnkcmbpancdjoidceilk">
<!-- For creating PWA -->
  <meta name="viewport" content="width=device-width, user-scalable=no" />
  <link rel="manifest" href="pwa-manifest.json" />

  <meta name="release-channel" content="standard"></head>

  <body filedrag class="loadingInProgress standard-theme kami-initializing" theme-loader ng-controller="KamiController"
    detect-stylus embed-iframe-api undo annotation-shortcuts viewer-shortcuts insert-autograph hand-tool suggest-autoload holiday-decorations classroom-listener
    kami-status-notification-manager bugsnag whats-new-notifications ng-class="{'toolbar-dock-left': toolbar_docking === 'left', 'toolbar-dock-right': toolbar_docking === 'right', 'dyslexic-typeface-lexend': dyslexic_typeface === 'lexend', 'dyslexic-typeface-arial': dyslexic_typeface === 'arial', 'dyslexic-typeface-comic-neue': dyslexic_typeface === 'comic-neue', 'dyslexic-typeface-open-sans': dyslexic_typeface === 'open-sans', 'dyslexic-typeface-open-dyslexic': dyslexic_typeface === 'open-dyslexic', 'per-page-grader-marking-mode': per_page_grader_marking_active()}"
    disable-copy-paste>
    <user-access></user-access>
    <react-tooltip></react-tooltip>
    <div id="outerContainer" ng-controller="DocumentController" ng-hide="show_prompt" undelete-annotations close-dropdowns app-rater-opener warn-close paste-text-annotation user-active
      ng-class="{'hide-comments': hideComments, 'kami-grader-active': grader_state.active, ['microsoft-teams-active microsoft-teams-platform-' + microsoft_teams_platform]: microsoft_teams_platform, 'microsoft-teams-copies-active': microsoft_teams_opener.copiesActive, 'undelete-annotations-active': undelete_annotations_active}" ng-cloak>

    <button class="skip-to-content" ng-click="skip_to_content()" data-event-name="skip_to_content">{{'toolbar_viewer_left.skip_to_main_content' | t}}</button>
      <div id="sidebarContainer">
        <div id="toolbarSidebar">
          <div class="splitToolbarButton toggled">
            <button id="viewPageControlThumbnail" class="toolbarButton group toggled" title="{{'sidebar_container.show_thumbnails' | t}}" data-l10n-id="thumbs" data-event-name="view_page_thumbnails">
               <span data-l10n-id="thumbs_label">{{'sidebar_container.thumbnails' | t}}</span>
            </button>
            <button id="viewOutline" class="toolbarButton group" title="{{'sidebar_container.show_document_outline' | t}}" data-l10n-id="outline" data-event-name="view_outline">
               <span data-l10n-id="outline_label">{{'sidebar_container.document_outline' | t}}</span>
            </button>
            <button id="viewAttachments" class="toolbarButton group" title="{{'sidebar_container.show_attachments' | t}}" data-l10n-id="attachments" data-event-name="view_attachments">
               <span data-l10n-id="attachments_label">{{'sidebar_container.attachments' | t}}</span>
            </button>
            <button id="viewAnnotations" ng-show="page_state.document_state.grade_by_page_state != 'marking'" class="toolbarButton group" title="{{'sidebar_container.annotation_summary' | t}}" data-l10n-id="annotations" data-event-name="view_annotations">
               <span data-l10n-id="annotations_label">{{'sidebar_container.annotations' | t}}</span>
            </button>
            <button id="viewAnnotationBanks" class="toolbarButton group" title="{{'sidebar_container.annotation_bank' | t}}" data-l10n-id="annotation_banks" data-event-name="annotation_bank">
               <span data-l10n-id="annotation_banks_label">{{'sidebar_container.annotation_bank' | t}}</span>
            </button>
          </div>
        </div>
        <div id="sidebarContent">
          <div id="pageControlThumbnailView">
            <thumbnail-viewer></thumbnail-viewer>
          </div>
          <div id="outlineView" class="hidden">
          </div>
          <div id="attachmentsView" class="hidden">
          </div>
          <div id="annotationsView" class="hidden" ng-controller="AnnotationBookmarksController">
            <annotation-bookmark ng-repeat="commentObj in annotations track by commentObj.id"></annotation-bookmark>
            <div class="no-annotations" ng-hide="annotations.length">{{'sidebar_content.this_will_be_a_summary_of_annotations' | t}}</div>
          </div>
          <div id="annotationBanksView" class="hidden" ng-controller="AnnotationBankBookmarksController">
            <div ng-if="showAnnotationBankFeature" class="annotation-banks-panel">
              <button ng-click="createNewFolder()" title="{{'sidebar_content.new_bookmark_folder' | t}}">
                <span
                  class="fa-stack"
                  style="font-size: 10px"
                  aria-label="{{'annotations_bank_view.create_new_folder' | t}}"
                >
                  <i class="fa fa-plus fa-stack-1x"></i>
                  <i class="fa fa-folder-o fa-stack-2x"></i>
                </span>
              </button>
              <button
                onclick="window.open('http://help.kamiapp.com/en/articles/5172010-kami-annotation-bank-101')"
                aria-label="{{'annotations_bank_view.see_guide' | t}}"
              >
                <span class="fa fa-question-circle" style="font-size: 18px"/>
              </button>
            </div>
            <div class="annotation-banks-title" ng-if="!show_copy_paste">{{'annotations_bank_view.annotation_bank_is_hidden_because_copy_paste_is_disabled_for_this_document' | t}}</div>
            <div class="annotation-banks-title" ng-if="!crdbDocument">{{'annotations_bank_view.this_document_doesnt_support_annotation_bank' | t}}</div>
            <div class="annotation-banks-title" ng-if="crdbDocument && !showAnnotationBankFeature && show_copy_paste">
              <span ng-if="show_teacher_features()" >{{'annotations_bank_view.annotation_bank_is_a_beta_feature_you_can_turn_it_on_in_settings_page' | t}}</span>
              <span ng-if="!show_teacher_features()" >{{'annotations_bank_view.only_teachers_can_enable_annotation_bank' | t}}</span>
            </div>
            <div class="annotation-banks-title" ng-if="showAnnotationBankFeature && empty() && show_copy_paste"><span>{{'annotations_bank_view.you_don_t_have_any_annotations_in_bank_yet' | t}}</span><span ng-bind-html="'annotations_bank_view.please_click_the_button_on_the_comment' | t: {archive_icon: '<span class=\'fa fa-archive\'></span>'}"></span>
            </div>
            <div class="annotation-banks-title" ng-if="hasRestorableAnnotationBank() && show_copy_paste">{{'annotations_bank_view.before_any_annotation_is_permanently_deleted_you_have_1_hour_to_restore_it' | t}}</div>
            <div dragula='"folderBag"' class="annotation-bank-folds-container" ng-if="showAnnotationBankFeature && show_copy_paste">
              <annotation-bank-folder ng-repeat="annotationBankFolderObj in annotationBankFolders track by annotationBankFolderObj.id"></annotation-bank-folder>
            </div>
            <div dragula='"annotationBag"' class="annotation-banks-container" ng-if="showAnnotationBankFeature && show_copy_paste">
              <annotation-bank-bookmark ng-repeat="annotationBankObj in annotationBanksOutsideFolder track by annotationBankObj.id+annotationBankObj.deleted_at"></annotation-bank-bookmark>
            </div>
          </div>
        </div>
      </div>  <!-- sidebarContainer -->
      <div id="mainContainer" ng-class="thumbnail_state.changed === true ? 'container-inactive' : ''">
        <div class="short-containers visibleMediumView" ng-controller="PremiumBadgeController"> <!-- these containers are used in mobile view -->
          <div ng-if="referral_notify" class="unread-indicator profile"></div>
          <div class="secondaryToolbarButtonContainer" profile-dropdown hanger="none" short="true"></div>
          <div class="secondaryToolbarButtonContainer" help-dropdown hanger="none" short="true"></div>
        </div>
        <div class="header-notifications-list" ng-controller="HeaderNotificationsController" ng-show="headerNotificationsVisible">
          <app-rater></app-rater>
          <ocr-prompt></ocr-prompt>
          <prompt-file-upload></prompt-file-upload>
          <email-confirmation ng-if="current_user && current_user.id && current_user.email"></email-confirmation>
          <in-app-messages ng-if="current_user"></in-app-messages>
          <license-invites></license-invites>
          <div ng-if="current_user" ng-controller="AffiliationDialogController"></div>
          <div class="bottom-spacer"></div>
        </div>

        <!-- TODO page_state.document_state.source is an unreliable way of getting the document source -->
        <topbar
          ng-hide="!feature_enabled('new_topnavbar')"
          users="onlineCollaborators"
          online_users="onlineUsers"
          document_name="page_state.document.name"
          google_allowed="google_allowed"
          microsoft_allowed="microsoft_allowed"
          document_source="page_state.document_state.source"
          drive_folder="sync.drive.folder"
          kami_sync_enabled="sync.kami.enabled(t)"
          kami_sync_available="sync.kami.available()"
          drive_sync_enabled="sync.drive.enabled()"
          drive_sync_available="sync.drive.available()"
          onedrive_sync_enabled="sync.onedrive.enabled()"
          onedrive_sync_available="sync.onedrive.available()"
          is_in_document_view="!!page_state.document"
          page_count="page_state.document.page_count"
          is_edit_preview_mode="page_state.is_preview_mode('edit')"
          is_answer_preview_mode="page_state.is_preview_mode('answer')"
          is_mark_preview_mode="page_state.is_preview_mode('mark')"
          is_template_document="page_state.is_template_document()"
          is_class_view_document="page_state.is_class_view_document()"
          is_publish_changes_mode="is_publish_changes_mode()"
          is_in_grading_mode="is_in_grader_mode()"
          is_in_embed_mode="is_embed"
          coursework_status_state="page_state.document_state.coursework_service.status.state"
          gcm_student_submission_state="page_state.document_state.coursework_service.status.student_submission_info.state"
          coursework_service_name="page_state.document_state.coursework_service.name"
          coursework_status_progress="page_state.document_state.coursework_service.status.progress"
          coursework_status_error="page_state.document_state.coursework_service.status.error"
          coursework_status_error_button_text="page_state.document_state.coursework_service.status.error_button_text"
          coursework_status_error_button_url="page_state.document_state.coursework_service.status.error_button_url"
          coursework_show_countdown="page_state.document_state.coursework_service.show_countdown()"
          coursework_due_at="page_state.document_state.coursework_service.due_at_string()"
          coursework_status_student_submission_info_state="page_state.document_state.coursework_service.status.student_submission_info.state"
          coursework_is_class_view_toggle_visible="page_state.document_state.coursework_service.is_class_view_toggle_visible()"
          coursework_class_view_toggle_disabled_reason="page_state.document_state.coursework_service.class_view_toggle_disabled_reason()"
          coursework_name="page_state.document_state.coursework_service.coursework_name()"
          coursework_turn_in_label="page_state.document_state.coursework_service.turn_in_label()"
          coursework_can_be_returned="page_state.document_state.coursework_service.can_be_returned()"
          coursework_can_be_all_returned="page_state.document_state.coursework_service.can_be_all_returned()"
          coursework_can_be_turned_in="page_state.document_state.coursework_service.can_be_turned_in()"
          coursework_can_be_reclaimed="page_state.document_state.coursework_service.can_be_reclaimed()"
          coursework_materials="page_state.document_state.coursework_service.coursework_materials()"
          is_coursework_active="page_state.document_state.coursework_service.active()"
          lti_lms_name="page_state.document_state.coursework_service.status.lms"
          in_microsoft_teams="in_ms_teams"
          get_insights_data="page_state.document_state.coursework_service.get_insights_data"
          is_return_all_visible="page_state.document_state.coursework_service.is_return_all_visible()"
          trigger_turn_in_on_load="page_state.document_state.trigger_turn_in_on_load"
          has_activities="has_activities()"
          disable_print_and_export="disable_export_and_print()"
          document_parent_id="page_state.document_state.parent_id"
          file_url="page_state.document.file_url"
          has_owner_permission="page_state.has_permission('owner')"
          is_guest_user="current_user.guest_user"
          hide_purchase_or_upgrade_messaging="hide_purchase_or_upgrade_messaging"
          premium_subscription_active="current_user.premium_subscription_active"
          license="license"
          has_edit_permission="page_state.has_permission('edit')"
          notifications="app_notifications"
          ppg_data="per_page_grader_helper.ppgData"
          share_allowed="share_allowed()"
          coursework_user_role="page_state.document_state.coursework_service.userRole"
          is_assessment_mode="page_state.document_state.coursework_service.is_assessment_mode()"
        >
        </topbar>
        <div class="toolbar" ng-hide="feature_enabled('new_topnavbar')">
          <div id="toolbarContainer" data-event-name="legacy_topbar">
            <div id="toolbarViewer">
              <div id="toolbarViewerLeft">
                <div id="logo" ng-class="{'embed': is_embed}" ng-mousedown="logo_mousedown($event)" ng-click="logo_click($event)" ng-keypress="$event.key === 'Enter' && !is_embed && logo_click($event)" tabindex="0" aria-label="Kami Logo" role="img">
                  <div class="large-logo" alt="Kami Logo" data-event-name="kami_logo"></div>
                  <div class="small-logo" alt="Kami Logo" data-event-name="kami_logo"></div>
                  <div ng-if="!is_embed" class="toolbarButtonTooltipAnchor" tooltips tooltip-template="{{'toolbar_viewer_left.kami_dashboard' | t}}" tooltip-side="right" tooltip-hidden="{{!page_state.is_initialized}}"></div>
                </div>

                <div class="header-badges" ng-controller="PremiumBadgeController" ng-show="isVisible()">
                  <a class="free-badge badge-toolbar" href="upgrade.html" target="_blank" ng-if="!current_user.premium_subscription_active" ng-click="clicked_premium()" tooltips tooltip-template="{{'header_toolbar.you_are_using_the_free_version_of_kami' | t}}" tooltip-side="right" data-event-name="upgrade_badge">{{'header_toolbar.upgrade' | t}}</a>
                  <div class="badge-toolbar" ng-if="!is_trial_license && days_until_trial_ends" tooltips tooltip-template="{{education_license_tooltips}}" tooltip-side="bottom">
                    {{days_until_trial_ends}}
                  </div>
                  <a ng-if="is_trial_license && days_until_trial_ends" class="trial-badge badge-toolbar" href="upgrade.html" target="_blank" title="{{days_until_trial_ends}}" ng-click="clicked_premium('trial')" data-event-name="upgrade_from_trial_badge">{{days_until_trial_ends}}</a>
                  <div class="countdown-badge badge-toolbar important-badge" tooltips tooltip-template="{{countdownTooltips()}}" tooltip-side="bottom" ng-if="showCountdown()">
                    {{remainingTime}}
                  </div>
                </div>
                <div class="login-badge badge-toolbar" ng-show="current_user.guest_user" guest-login-click>{{'header_toolbar.login' | t}}</div>

                <button id="sidebarToggle" class="toolbarButton" data-l10n-id="toggle_sidebar" ng-click="toggle_dropdown(null)" aria-label="{{'header_toolbar.toggle_sidebar' | t}}" ng-show="page_state.document" data-event-name="toggle_sidebar">
                  <div class="toolbarButtonTooltipAnchor"  tooltips tooltip-template="{{'header_toolbar.toggle_sidebar' | t}}" tooltip-side="bottom"></div>
                  <span data-l10n-id="toggle_sidebar_label">{{'header_toolbar.toggle_sidebar' | t}}</span>
                </button>
                <div>
                  <button id="viewFind" class="toolbarButton group hiddenSmallView" data-l10n-id="findbar" aria-label="{{'header_toolbar.find_in_document' | t}}" ng-click="toggle_dropdown(null)" ng-show="page_state.document" data-event-name="toggle_findbar">
                    <div class="toolbarButtonTooltipAnchor"  tooltips tooltip-template="{{'header_toolbar.find_in_document' | t}}" tooltip-side="bottom"></div>
                    <span data-l10n-id="findbar_label">{{'header_toolbar.find' | t}}</span>
                  </button>
                  <div class="findbar hidden doorHanger hiddenSmallView" id="findbar">
                    <label for="findInput" class="toolbarLabel" data-l10n-id="find_label">{{'header_toolbar.find' | t}}:</label>
                    <input id="findInput" class="toolbarField" data-event-name="find_input">
                    <div class="splitToolbarButton">
                      <button class="toolbarButton findPrevious" title="" id="findPrevious" data-l10n-id="find_previous" data-event-name="find_previous">
                        <span data-l10n-id="find_previous_label">{{'find_bar.previous' | t}}</span>
                      </button>
                      <div class="splitToolbarButtonSeparator"></div>
                      <button class="toolbarButton findNext" title="" id="findNext" data-l10n-id="find_next" data-event-name="find_next">
                        <span data-l10n-id="find_next_label">{{'find_bar.next' | t}}</span>
                      </button>
                    </div>
                    <input type="checkbox" id="findHighlightAll" checked="checked" class="toolbarField" data-event-name="highlight_all">
                    <label for="findHighlightAll" class="toolbarLabel" data-l10n-id="find_highlight">{{'find_bar.highlight_all' | t}}</label>
                    <input type="checkbox" id="findMatchComments" checked="checked" class="toolbarField" data-event-name="match_comments">
                    <label for="findMatchComments" class="toolbarLabel" data-l10n-id="find_match_case_label">{{'find_bar.comments' | t}}</label>
                    <input type="checkbox" id="findMatchCase" class="toolbarField" data-event-name="match_case">
                    <label for="findMatchCase" class="toolbarLabel" data-l10n-id="find_match_case_label">{{'find_bar.match_case' | t}}</label>
                    <span id="findResultsCount" class="toolbarLabel hidden"></span>
                    <span id="findMsg" class="toolbarLabel"></span>
                  </div>  <!-- findbar -->
                </div>

                <!-- TODO remove (unused) -->
                <div class="splitToolbarButton hide">
                  <button class="toolbarButton hide pageUp" title="{{'split_toolbar.previous_page' | t}}" id="previous" data-l10n-id="previous">
                    <span data-l10n-id="previous_label">{{'split_toolbar.previous' | t}}</span>
                  </button>
                  <div class="splitToolbarButtonSeparator"></div>
                  <button class="toolbarButton hide pageDown" title="{{'split_toolbar.next_page' | t}}" id="next" data-l10n-id="next">
                    <span data-l10n-id="next_label">{{'split_toolbar.next' | t}}</span>
                  </button>
                </div>


                <div id="documentTitleBar" class="hiddenSmallView" ng-controller="DocumentTitleBarController" ng-show="page_state.document">
                  <div class="source fa fa-globe item-tooltip-container" ng-class="page_state.document_state.source">
                    <div tooltips tooltip-template="{{page_state.document_state.source | translateSource}}" tooltip-side="bottom"></div>
                  </div>
                  <div class="driveFolder item-tooltip-container" ng-if="page_state.document_state.source == 'googledrive'" ng-click="move_drive_folder()" ng-keypress="$event.key === 'Enter' && move_drive_folder()" tabindex="0" data-event-name="move_drive_folder" data-event-any-children>
                    <span class="driveFolderName">
                      {{get_drive_folder()}}
                    </span>
                    <i class="fa fa-caret-right folder-separator" ng-if="page_state.document_state.source == 'googledrive'" aria-hidden="true"></i>
                    <span tooltips tooltip-template="{{'sync_dropdown.move' | t}}" tooltip-side="bottom" data-event-name="move_drive_folder"></span>
                  </div>
                  <div class="documentNameInputWrapper">
                    <input ng-model="document_name" ng-readonly="readonly()" ng-blur="save_document_name()" ng-keydown="document_name_keydown($event)" class="documentNameInput" title="{{'header_toolbar.rename' | t}}" data-event-name="document_name"/>
                  </div>
                </div>
              </div>
              <div id="toolbarViewerRight">

                <div id="saving-progress" ng-show="page_state.document" class="{{unsync_count() > 50 ? 'sync-danger': ''}}" ng-controller="SavingProgressController" ng-switch="status()">
                  <div ng-switch-when="queued_offline" class="badge-toolbar important-badge" role="status" aria-live="polite">
                    <div class="badgeTooltipAnchor">
                      <div tooltips tooltip-template="{{'header_toolbar.offline_annotations_saved_locally' | t}}" tooltip-side="bottom"></div>
                    </div>
                    <div id="offline-badge-content">
                      <span class="icomoon icomoon-highlight"></span>
                      <span class="badge-text">{{'header_toolbar.no_connection' | t}} <span class="changes-saved-locally" ng-bind-html="'header_toolbar.changes_saved_locally' | t: {count: unsync_count()}"></span></span>
                    </div>
                  </div>
                  <div ng-switch-when="saving" class="badge-toolbar" role="status" aria-live="polite">
                    <span>{{'header_toolbar.saving_changes' | t}}</span>
                  </div>
                  <div ng-switch-when="saved" disappear-after="20" class="badge-toolbar" role="status" aria-live="polite">
                    <span>{{'header_toolbar.saved' | t}}</span>
                  </div>
                </div>
                <div class="question-tool-preview-modes" ng-if="display_preview_mode()">
                    <button ng-show="is_preview_mode('edit')" class="preview" ng-click="set_preview_mode('answer')" data-event-name="set_preview_mode_answer">{{'preview_modes.preview_questions' | t}}</button>
                    <button ng-show="is_preview_mode('edit')" class="assign" ng-click="open_assignment_dialog()" data-event-name="open_assignment_dialog">{{'preview_modes.assign' | t}}</button>
                    <button ng-show="is_preview_mode('answer')" class="preview" ng-click="set_preview_mode('mark')" data-event-name="set_preview_mode_mark">{{'preview_modes.view_results' | t}}</button>
                    <button ng-show="is_preview_mode('answer')" class="preview" ng-click="set_preview_mode('edit')" data-event-name="set_preview_mode_edit">{{'preview_modes.exit_preview' | t}}</button>
                    <button ng-show="is_preview_mode('mark')" class="preview" ng-click="set_preview_mode('edit')" data-event-name="set_preview_mode_edit">{{'preview_modes.exit_preview' | t}}</button>
                </div>
                <div class="scaleSelect" id="toolbarViewerMiddle" ng-show="page_state.document">
                  <div ng-controller="SavingProgressController">
                    <button id="undo" class="toolbarButton undo" aria-label="{{'header_toolbar.undo' | t}}" data-l10n-id="undo" ng-click="undo()" ng-disabled="!has_undo() || is_undoing()" data-event-name="undo">
                      <div class="toolbarButtonTooltipAnchor" tooltips tooltip-template="{{'header_toolbar.undo' | t}} {{undo_key}}" tooltip-side="bottom">
                        <i class="material-icons">undo</i>
                      </div>
                      <span data-l10n-id="undo_label">{{'header_toolbar.undo' | t}} {{undo_key}}</span>
                    </button>
                    <button id="redo" class="toolbarButton redo" aria-label="{{'header_toolbar.redo' | t}}" data-l10n-id="redo" ng-click="redo()" ng-disabled="!has_redo() || is_redoing()" data-event-name="redo">
                      <div class="toolbarButtonTooltipAnchor" tooltips tooltip-template="{{'header_toolbar.redo' | t}} {{redo_key}}" tooltip-side="bottom">
                        <i class="material-icons">redo</i>
                      </div>
                      <span data-l10n-id="redo_label">{{'header_toolbar.redo' | t}} {{redo_key}}</span>
                    </button>
                  </div>
                  <div class="splitToolbarButtonSeparator"></div>
                  <div class="splitToolbarButton">
                    <button id="zoomOut" class="toolbarButton zoomOut" aria-label="{{'header_toolbar.zoom_out' | t}}" data-l10n-id="zoom_out" data-event-name="zoom_out">
                      <div class="toolbarButtonTooltipAnchor"  tooltips tooltip-template="{{'header_toolbar.zoom_out' | t}}" tooltip-side="bottom"></div>
                      <span data-l10n-id="zoom_out_label">{{'header_toolbar.zoom_out' | t}}</span>
                    </button>
                    <button id="zoomIn" class="toolbarButton zoomIn" aria-label="{{'header_toolbar.zoom_in' | t}}" data-l10n-id="zoom_in">
                      <div class="toolbarButtonTooltipAnchor"  tooltips tooltip-template="{{'header_toolbar.zoom_in' | t}}" tooltip-side="bottom"  data-event-name="zoom_in"></div>
                      <span data-l10n-id="zoom_in_label">{{'header_toolbar.zoom_in' | t}}</span>
                     </button>
                  </div>
                  <span id="scaleSelectContainer" class="dropdownToolbarButton">
                     <select id="scaleSelect" title="Zoom" data-l10n-id="zoom" data-event-name="scale_select">
                      <option id="pageDisabledTitle" title="" value="disabled" disabled="disabled">{{'header_zoom_options.zoom_options' | t}}</option>
                      <option id="pageAutoOption" title="" value="auto" selected="selected" data-l10n-id="page_scale_auto" data-event-name="scale_auto">{{'header_zoom_options.automatic' | t}}</option>
                      <option id="pageActualOption" title="" value="page-actual" data-l10n-id="page_scale_actual" data-event-name="scale_actual">{{'header_zoom_options.actual_size' | t}}</option>
                      <option id="pageFitOption" title="" value="page-fit" data-l10n-id="page_scale_fit" data-event-name="scale_fit">{{'header_zoom_options.fit_page' | t}}</option>
                      <option id="pageWidthOption" title="" value="page-width" data-l10n-id="page_scale_width" data-event-name="scale_width">{{'header_zoom_options.full_width' | t}}</option>
                      <option id="customScaleOption" title="" value="0.25" data-event-name="scale_25">25%</option>
                      <option title="" value="0.5" data-l10n-id="page_scale_percent" data-l10n-args='{ "scale": 50 }' data-event-name="scale_50">50%</option>
                      <option title="" value="0.75" data-l10n-id="page_scale_percent" data-l10n-args='{ "scale": 75 }' data-event-name="scale_75">75%</option>
                      <option title="" value="1" data-l10n-id="page_scale_percent" data-l10n-args='{ "scale": 100 }' data-event-name="scale_100">100%</option>
                      <option title="" value="1.25" data-l10n-id="page_scale_percent" data-l10n-args='{ "scale": 125 }' data-event-name="scale_125">125%</option>
                      <option title="" value="1.5" data-l10n-id="page_scale_percent" data-l10n-args='{ "scale": 150 }' data-event-name="scale_150">150%</option>
                      <option title="" value="2" data-l10n-id="page_scale_percent" data-l10n-args='{ "scale": 200 }' data-event-name="scale_200">200%</option>
                      <option title="" value="3" data-l10n-id="page_scale_percent" data-l10n-args='{ "scale": 300 }' data-event-name="scale_300">300%</option>
                      <option title="" value="4" data-l10n-id="page_scale_percent" data-l10n-args='{ "scale": 400 }' data-event-name="scale_400">400%</option>
                    </select>
                  </span>
                </div>
                <div id="open-dropdown" secondary-toolbar-toggle-dropdown="open_dropdown" class="toolbarButton notable-nav-button dropdown-common"
                  aria-label="{{'open_file_dropdown.open_file' | t}}" role="button" tabindex="0" data-l10n-id="open_file" ng-controller="OpenDropdownController" ng-if="!hide_open_file()"
                  aria-expanded="{{show_dropdown == 'open_dropdown'}}">
                  <div class="toolbarButtonTooltipAnchor"  tooltips tooltip-template="{{'open_file_dropdown.open_file' | t}}" tooltip-class="app-toolbar-tooltip" tooltip-append-to-body="true" tooltip-side="bottom" data-event-name="open_file"></div>
                  <span data-l10n-id="open_file_label">{{'open_file_dropdown.open_file' | t}}</span>
                  <div class="secondaryToolbarButtonContainer">
                    <div class="secondaryToolbar doorHangerRight" ng-show="show_dropdown == 'open_dropdown'" role="list">

                      <div id="open-from" class="header" title="{{'open_file_dropdown.open_new_file' | t}}">{{'open_file_dropdown.open_file_from' | t}}</div>
                      <div class="indent" title="Open a new file in Kami">
                        <button role="listitem" class="secondaryToolbarButton" ng-click="open_file()" title="{{'open_file_dropdown.open_file_from_my_computer' | t }}" data-event-name="open_file_computer">
                          <i class="fa fa-hdd-o"></i>
                          <span class="name">{{'open_file_dropdown.my_computer' | t}}</span>
                        </button>
                        <button role="listitem" class="secondaryToolbarButton" ng-show="show_teacher_features()" ng-click="open_kami_library()" title="{{'open_file_dropdown.open_kami_library' | t}}" data-event-name="open_file_kami_library">
                          <image id="kami-round-icon" class="image-icon" src="./images/icon48 transparent.png"></image>
                          <span class="name">{{'open_file_dropdown.kami_library' | t}}</span>
                        </button>
                        <button role="listitem" class="secondaryToolbarButton" ng-click="open_file_browser()" title="{{'open_file_dropdown.open_file_from_shared_files' | t}}" data-event-name="open_shared_files">
                          <i class="fa fa-share-alt"></i>
                          <span class="name">{{'open_file_dropdown.shared_files' | t}}</span>
                        </button>
                        <button role="listitem" class="secondaryToolbarButton" ng-show="is_cloud_provider_allowed('google')" ng-click="open_gdrive_picker()" title="{{'open_file_dropdown.open_file_from_google_drive' | t}}" data-event-name="open_file_from_google_drive">
                          <i class="fa google"></i>
                          <span class="name">{{'open_file_dropdown.google_drive' | t}}</span>
                        </button>
                        <div class="indent">
                          <button role="listitem" class="secondaryToolbarButton" ng-click="open_gdrive_parent_picker()" ng-show="page_state.document.copy_type === 'google' && page_state.document_state.parent_id" ng-attr-title="{{ 'open_file_dropdown.open_file_from_folder_name' | t:{folder_name: get_drive_folder()} }}" data-event-name="open_file_from_google_drive_by_folder">
                            <i class="fa fa-folder"></i>
                            <span class="name">{{get_drive_folder()}}</span>
                          </button>
                        </div>
                        <button role="listitem" class="secondaryToolbarButton" ng-show="is_cloud_provider_allowed('microsoft')" ng-click="open_onedrive_picker()" title="{{'open_file_dropdown.open_file_from_onedrive' | t}}" data-event-name="open_file_from_onedrive">
                          <i class="mdi mdi-onedrive"></i>
                          <span class="name">{{'open_file_dropdown.onedrive' | t}}</span>
                        </button>
                        <button role="listitem" class="secondaryToolbarButton" ng-click="open_box_picker()" title="{{'open_file_dropdown.open_file_from_box' | t}}" data-event-name="open_file_from_box">
                          <i class="fa box"></i>
                          <span class="name">{{'open_file_dropdown.box' | t}}</span>
                        </button>
                      </div>

                      <div class="horizontalToolbarSeparator"></div>

                      <div id="open-recent-files" class="header" title="{{'open_file_dropdown.recently_opened_files' | t}}">{{'open_file_dropdown.recent_files' | t}}</div>
                      <div ng-show="recent_files.length" class="indent" title="{{'open_file_dropdown.recently_opened_files' | t}}">
                        <div ng-repeat="file in recent_files | limitTo:5 track by file.document_identifier" ng-attr-title="{{::file.document_name}}" ng-click="open_recent_file(file)">
                          <button class="secondaryToolbarButton file" ng-hide="file.hide" ng-disabled="file.document_identifier === page_state.document.document_identifier" data-event-name="open_recent_file">
                            <i class="fa source" ng-class="(file.source) ? file.source : 'fa-globe'"></i>
                            <span class="name {{file_can_open(file) ? '' : 'disabled'}}">{{::file.document_name}}</span>
                            <div class="remove recent-remove fa fa-times " title="{{'open_file_dropdown.remove' | t}}" ng-click="remove_recent($event, file)"></div>
                          </button>
                        </div>
                      </div>

                      <div ng-show="page_state.document">
                        <div class="horizontalToolbarSeparator"></div>
                        <div id="copy-header" class="header" title="{{'open_file_dropdown.tracked_copies' | t}}">{{'open_file_dropdown.tracked_copies' | t}}</div> <!-- <a style='text-align: right' ng-click="switch_copy('new_copy')">Create new</a> -->
                        <div id="copy-description" class="description" title="{{'open_file_dropdown.tracked_copies' | t}}">
                          {{'open_file_dropdown.switch_between_copies' | t}}
                        </div>
                        <div class="indent" ng-show="document_with_copies">
                          <button class="secondaryToolbarButton copy" ng-repeat="copy in document_with_copies.copies | limitTo:5" ng-class="{loading: loading}" ng-disabled="copy.document_identifier === page_state.document.document_identifier" ng-attr-title="copy_title(copy)" ng-click="switch_copy(copy)" data-event-name="switch_copy">
                            <i class="fa" ng-class="copy.copy_type"></i>
                            <span class="name">{{copy.name}}</span>
                          </button>
                          <button class="secondaryToolbarButton view-all" ng-click="open_all_copies()" title="{{'open_file_dropdown.view_all_copies' | t}}" data-event-name="view_all_copies">{{'open_file_dropdown.view_all' | t}}</button>
                        </div>
                        <div class="indent" ng-hide="document_with_copies">
                          <i class="fa fa-circle-o-notch fa-spin"></i>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <button id="openFile" class="hidden"> <!-- for pdfjs -->
                  <span data-l10n-id="open_file_label">{{'open_file_dropdown.open_file' | t}}</span>
                </button>

                <button id="share-online" ng-show="share_allowed() && page_state.document" ng-click="show_share()" class="hiddenMediumView toolbarButton notable-nav-button shareOnline" aria-label="{{'header_toolbar.share_document' | t}}" data-l10n-id="share" secondary-toolbar-toggle-dropdown="share" ng-if="!microsoft_teams">
                  <div class="toolbarButtonTooltipAnchor" tooltips tooltip-template="{{'header_toolbar.share_document' | t}}" tooltip-class="app-toolbar-tooltip" tooltip-append-to-body="true" tooltip-side="bottom" data-event-name="share"></div>
                  <span data-l10n-id="share_label">{{'header_toolbar.share_document' | t}}</span>
                </button>

                <div id="print" ng-show="page_state.document && !disable_export_and_print()" class="toolbarButton print hiddenMediumView dropdown-common"
                  aria-label="{{'header_toolbar.print' | t}}" role="button" tabindex="0" data-l10n-id="print" data-event-name="print"
                  secondary-toolbar-toggle-dropdown="print" aria-expanded="{{ show_dropdown == 'print' }}">
                  <div class="toolbarButtonTooltipAnchor"  tooltips tooltip-template="{{'header_toolbar.print' | t}}" tooltip-class="app-toolbar-tooltip" tooltip-append-to-body="true" tooltip-side="bottom"></div>
                  <span data-l10n-id="print_label">{{'header_toolbar.print' | t}}</span>
                  <div class="secondaryToolbarButtonContainer">
                    <div id="print-dropdown" class="secondaryToolbar doorHangerRight" ng-show="show_dropdown == 'print'">
                      <div class="header">
                        {{'header_toolbar.print_document' | t}}
                      </div>
                      <button id="print-original" class="secondaryToolbarButton" title="{{'header_toolbar.print_original_pdf' | t}}" data-event-name="print_original" ng-click="print('original', $event)">
                        <span>{{'header_toolbar.original' | t}}</span>
                      </button>
                      <button id="print-top" class="secondaryToolbarButton" title="{{'header_toolbar.print_with_annotations' | t}}" data-event-name="print_with_annotations" ng-click="print('annotation', $event)">
                        <span>{{'header_toolbar.with_annotations' | t}}</span>
                      </button>
                    </div>
                  </div>
                </div>

                <div id="sync-dropdown-button" class="toolbarButton notable-nav-button sync dropdown-common"
                  ng-show="page_state.document" aria-label="{{'header_toolbar.save' | t}}" tabindex="0"
                  data-l10n-id="sync" secondary-toolbar-toggle-dropdown="sync" ng-controller="SyncController"
                  aria-expanded="{{show_dropdown == 'sync'}}">
                  <div class="toolbarButtonTooltipAnchor"  tooltips tooltip-template="{{'header_toolbar.save' | t}}" tooltip-class="app-toolbar-tooltip" tooltip-append-to-body="true" tooltip-side="bottom" data-event-name="sync"></div>
                  <div ng-if="coursework().can_be_turned_in()" class="sync-label">{{coursework().turn_in_label()}}</div>
                  <div ng-if="coursework().can_be_reclaimed()" class="sync-label">{{'header_toolbar.done' | t}}</div>
                  <div ng-if="coursework().can_be_returned()" class="sync-label">{{'header_toolbar.return' | t }}</div>
                  <div class="secondaryToolbarButtonContainer">
                    <div class="secondaryToolbar doorHangerRight" ng-show="show_dropdown == 'sync'">
                      <sync-dropdown></sync-dropdown>
                    </div>
                  </div>
                </div>

                <!-- element 'download' id required by PDF.js -->
                <button id="download" class="hide"></button>
                <button id="show-download-dialog" class="toolbarButton notable-nav-button hiddenMediumView download" ng-show="page_state.document && !disable_export_and_print()" data-l10n-id="download" data-event-name="export" ng-click="open_window('show_download'); toggle_dropdown(null)" tooltips tooltip-template="{{'header_toolbar.download' | t}}" tooltip-class="app-toolbar-tooltip" tooltip-append-to-body="true" tooltip-side="bottom">
                  <span data-l10n-id="download_label">{{'header_toolbar.download' | t}}</span>
                </button>

                <div class="publishChanges" ng-controller="PublishChangesController">
                  <button id="publishChangesButton" class="publishChangesButton" aria-label=" {{'header_toolbar.publish_changes' | t}}" data-l10n-id="publish-changes" ng-if="is_publish_changes_available()" ng-click="publish_changes()" ng-disabled="!has_unpublished_changes()" data-event-name="publish_changes">
                     {{'header_toolbar.publish_changes' | t}}
                  </button>
                </div>

                <div id="help-dropdown-button" class="hiddenMediumView toolbarButton notable-nav-button help dropdown-common"
                  aria-label="{{'header_toolbar.help' | t }}" role="button" data-l10n-id="help" secondary-toolbar-toggle-dropdown="help"
                  tabindex="0" aria-expanded="{{show_dropdown == 'help'}}">
                  <div class="toolbarButtonTooltipAnchor" tooltips tooltip-template="{{'header_toolbar.help' | t }}" tooltip-class="app-toolbar-tooltip" tooltip-append-to-body="true" tooltip-side="bottom" data-event-name="help"></div>
                  <div class="unread-indicator" ng-class="app_notifications_highest_importance.importance.class" ng-if="has_app_notifications"></div>
                  <div class="secondaryToolbarButtonContainer" hanger="top-right" help-dropdown></div>
                </div>

                <button id="whats-new" ng-click="show_whats_new('top_bar')" ng-show="is_showing_dashboard()" class="hiddenMediumView toolbarButton notable-nav-button whats-new" data-event-name="whats_new" aria-label="{{'header_toolbar.whats_new' | t}}" data-l10n-id="whatsNew">
                  <div class="toolbarButtonTooltipAnchor"  tooltips tooltip-template="{{'header_toolbar.whats_new' | t}}" tooltip-class="app-toolbar-tooltip" tooltip-append-to-body="true" tooltip-side="bottom"></div>
                  <span data-l10n-id="whats_new">{{'header_toolbar.whats_new' | t}}</span>
                </button>

                <!-- <div class="toolbarButtonSpacer"></div> -->
                <!-- TODO: remove (unused) -->
                <a href="#" id="viewBookmark" class="hide toolbarButton bookmark hiddenSmallView" title="{{'header_toolbar.current_view_copy_or_open_in_new_window' | t}}" data-l10n-id="bookmark" ng-click="toggle_dropdown(null)">
                  <span data-l10n-id="bookmark_label">{{'header_toolbar.current_view' | t}}</span>
                </a>


                <button id="presentationMode" class="toolbarButton presentationMode hide" title="{{'header_toolbar.switch_to_presentation_mode' | t}}" data-l10n-id="presentation_mode" data-event-name="presentation_mode" ng-click="toggle_dropdown(null)">
                  <span data-l10n-id="presentation_mode_label">{{'header_toolbar.presentation_mode' | t}}</span>
                </button>

                <button id="secondaryToolbarToggle" class="toolbarButton notable-nav-button" aria-label="{{'menu_dropdown.menu' | t }}" data-l10n-id="tools" data-event-name="hamburger" ng-click="toggle_dropdown(null)" ng-keydown="toggle_dropdown(null)" aria-expanded="false">
                  <div class="toolbarButtonTooltipAnchor" tooltips tooltip-template="{{'menu_dropdown.menu' | t }}" tooltip-class="app-toolbar-tooltip" tooltip-append-to-body="true" tooltip-side="bottom" data-event-name="hamburger"></div>
                  <span data-l10n-id="tools_label">{{'menu_dropdown.menu' | t }}</span>
                </button>

                <div data-event-name="hamburger">
                  <div id="secondaryToolbar" class="secondaryToolbar hidden doorHangerRight">
                    <div id="secondaryToolbarButtonContainer" role="list" aria-expanded="{{show_dropdown != null}}">

                      <button role="listitem" id="dropdown-toolbar-user" class="secondaryToolbarButton notable-nav-button dropdown-left visibleMediumView" data-event-name="user" secondary-toolbar-toggle-dropdown="user" ng-controller="PremiumBadgeController">
                        <div class="fa avatar">
                          <div ng-if="referral_notify" class="unread-indicator profile"></div>
                          <a alt="{{current_user.name}}" class="initials" colorize-initials="{{current_user.id}}">{{(current_user.name | initials)}}</a>
                        </div>
                        <span class="name-label" data-l10n-id="secondary-help_label">{{current_user.name}}</span>
                      </button>

                      <div class="horizontalToolbarSeparator visibleMediumView"></div>

                      <div id="secondary-help" class="secondaryToolbarButton notable-nav-button dropdown-left visibleMediumView" title="{{'menu_dropdown.help' | t }}" data-l10n-id="secondary-help" data-event-name="help" secondary-toolbar-toggle-dropdown="help" tabindex="0">
                        <i class="fa fa-question-circle"></i>
                        <span data-l10n-id="secondary-help_label">{{'menu_dropdown.help' | t }}</span>
                      </div>

                      <button role="listitem" id="split-merge-button" class="secondaryToolbarButton notable-nav-button linkButton" title="{{'menu_dropdown.split_merge_document' | t}}" data-l10n-id="split_merge" data-event-name="split_merge" ng-click="open_kami_tools('merge')" ng-if="!microsoft_teams">
                        <i class="icon icomoon-splitmerge"></i>
                        <span data-l10n-id="split_merge_label">{{'menu_dropdown.split_merge_document' | t}}</span>
                      </button>
                      <button role="listitem" id="ocr-button" class="secondaryToolbarButton notable-nav-button linkButton" title="{{'menu_dropdown.text_recognition' | t}}" data-l10n-id="ocr" data-event-name="ocr" ng-click="trigger_ocr()">
                        <i class="icon icomoon-ocr"></i>
                        <span data-l10n-id="ocr_label">{{'menu_dropdown.text_recognition' | t}}</span>
                      </button>
                      <a ng-href="{{location_href()}}" ng-if="show_open_in_new_tab()" target="_blank" class="container-anchor">
                        <button role="listitem" id="open-in-new-tab" class="secondaryToolbarButton notable-nav-button linkButton" title="{{'menu_dropdown.open_new_tab' | t }}" data-l10n-id="new_tab" data-event-name="open_in_new_tab">
                          <i class="mdi mdi-tab"></i>
                          <span data-l10n-id="new_tab_label">{{'menu_dropdown.open_new_tab' | t }}</span>
                        </button>
                      </a>

                      <div ng-show="page_state.document">
                        <div class="horizontalToolbarSeparator"></div>

                        <button role="listitem" id="documentProperties" class="secondaryToolbarButton" title="{{'menu_dropdown.document_properties' | t }}" data-l10n-id="document_properties" data-event-name="document_properties" ng-click="word_counting()">
                          <i class="mdi mdi-information"></i>
                          <span data-l10n-id="document_properties_label">{{'menu_dropdown.document_properties' | t }}</span>
                        </button>

                        <button role="listitem" id="notificationSettings" class="secondaryToolbarButton" title="{{'menu_dropdown.notification_settings' | t}}" data-l10n-id="document_properties" data-event-name="notification_settings" ng-click="open_window('notification_settings')">
                          <i class="material-icons">insert_comment</i>
                          <span data-l10n-id="notification_settings_label">{{'menu_dropdown.notification_settings' | t}}</span>
                        </button>
                      </div>

                      <div class="horizontalToolbarSeparator" ng-show="page_state.document || show_create_google_assignment_button() || is_lti_teacher() "></div>

                      <button role="listitem" id="secondaryClassroom" class="secondaryToolbarButton" title="{{'menu_dropdown.classroom' | t }}" data-l10n-id="classroom" data-event-name="create_assignment" ng-click="open_assignment_dialog()" ng-show="show_create_google_assignment_button()">
                        <i class="mdi mdi-google"></i>
                        <span data-l10n-id="print_label">{{'menu_dropdown.create_assignment' | t }}</span>
                      </button>

                      <button role="listitem" class="secondaryToolbarButton" title="{{'menu_dropdown.schoology_settings' | t}}" data-l10n-id="schoology" data-event-name="lti_settings" ng-click="open_lti_settings()" ng-show="is_lti_teacher() && get_lti_lms() === 'schoology'">
                        <i class="icon icomoon-schoology" style="font-size: 18px;"></i>
                        <span data-l10n-id="print_label">{{'menu_dropdown.schoology_settings' | t}}</span>
                      </button>

                      <button role="listitem" class="secondaryToolbarButton" title="{{'menu_dropdown.canvas_settings' | t}}" data-l10n-id="canvas" data-event-name="lti_settings" ng-click="open_lti_settings()" ng-show="is_lti_teacher() && (!get_lti_lms() || get_lti_lms() === 'canvas')">
                        <i class="icon icomoon-canvas" style="font-size: 20px;"></i>
                        <span data-l10n-id="print_label">{{'menu_dropdown.canvas_settings' | t}}</span>
                      </button>

                      <button role="listitem" class="secondaryToolbarButton" title="{{'menu_dropdown.classroom_settings' | t}}" data-l10n-id="classroom_settings" data-event-name="classroom_settings" ng-click="open_classroom_settings()" ng-show="classroom_settings_type() === 'teacher'">
                        <i class="mdi mdi-google" style="font-size: 20px;"></i>
                        <span data-l10n-id="print_label">{{'menu_dropdown.classroom_settings' | t}}</span>
                      </button>

                      <button role="listitem" class="secondaryToolbarButton" title="{{'menu_dropdown.microsoft_teams_settings' | t}}" data-l10n-id="microsoft-teams" data-event-name="microsoft_settings" ng-click="open_microsoft_teams_settings()" ng-show="is_microsoft_teams_teacher()">
                        <i class="icon icomoon-canvas" style="font-size: 20px;"></i>
                        <span data-l10n-id="print_label">{{'menu_dropdown.microsoft_teams_settings' | t}}</span>
                      </button>

                      <button role="listitem" class="secondaryToolbarButton" title="{{'menu_dropdown.classroom_documents' | t}}" data-l10n-id="classroom_documents" data-event-name="classroom_settings" ng-click="open_classroom_settings()" ng-show="classroom_settings_type() === 'student'">
                        <i class="mdi mdi-google" style="font-size: 20px;"></i>
                        <span data-l10n-id="print_label">{{'menu_dropdown.classroom_documents' | t}}</span>
                      </button>

                      <button role="listitem" id="secondaryPrint" ng-show="page_state.document" class="secondaryToolbarButton visibleMediumView" title="{{'menu_dropdown.print' | t}}" data-l10n-id="print" data-event-name="print">
                        <i class="mdi mdi-printer"></i>
                        <span data-l10n-id="print_label">{{'menu_dropdown.print' | t}}</span>
                      </button>

                      <button role="listitem" id="secondary-show-download-dialog" ng-show="page_state.document" class="secondaryToolbarButton notable-nav-button visibleMediumView" title="{{'menu_dropdown.export_file' | t}}" data-l10n-id="download" data-event-name="export" ng-click="open_window('show_download')" >
                        <i class="fa fa-download"></i>
                        <span data-l10n-id="download_label">{{'menu_dropdown.export_file' | t}}</span>
                      </button>
                      <div id="secondaryDownload" class="hide"></div>

                      <button role="listitem" id="secondary-share-online" ng-show="share_allowed() && page_state.document" ng-click="show_share()" class="secondaryToolbarButton notable-nav-button shareOnline visibleMediumView" title="{{'menu_dropdown.share_document' | t}}" data-l10n-id="share" data-event-name="share">
                        <i class="fa fa-share-alt"></i>
                        <span data-l10n-id="share_label">{{'menu_dropdown.share_document' | t}}</span>
                      </button>

                      <!-- TODO: remove (unused) -->
                      <a href="#" id="secondaryViewBookmark" class="hide secondaryToolbarButton bookmark visibleSmallView" title="{{'menu_dropdown.current_view_copy_or_open_in_new_window' | t}}" data-l10n-id="bookmark">
                        <span data-l10n-id="bookmark_label">{{'menu_dropdown.current_view' | t}}</span>
                      </a>

                      <div ng-show="page_state.document">
                        <div class="horizontalToolbarSeparator visibleLargeView"></div>

                        <button id="firstPage" class="secondaryToolbarButton" title="{{'menu_dropdown.go_to_first_page' | t}}" data-l10n-id="first_page" data-event-name="first_page">
                          <i class="material-icons">vertical_align_top</i>
                          <span data-l10n-id="first_page_label">{{'menu_dropdown.go_to_first_page' | t}}</span>
                        </button>
                        <button id="lastPage" class="secondaryToolbarButton" title="{{'menu_dropdown.go_to_last_page' | t}}" data-l10n-id="last_page" data-event-name="last_page">
                          <i class="material-icons">vertical_align_bottom</i>
                          <span data-l10n-id="last_page_label">{{'menu_dropdown.go_to_last_page' | t}}</span>
                        </button>
                        <button id="jumpToPage" class="secondaryToolbarButton notable-nav-button" title="{{'menu_dropdown.jump_to_page' | t}}" data-l10n-id="jump_to_page" data-event-name="jump_to_page">
                          <i class="material-icons">content_copy</i>
                          <span data-l10n-id="jump_to_page">{{'menu_dropdown.jump_to_page' | t}}</span>
                        </button>

                        <button id="undeleteAnnotations" class="secondaryToolbarButton notable-nav-button" title="{{'menu_dropdown.restore_deleted_annotations' | t}}" data-l10n-id="undeleted_annotations" data-event-name="undelete_annotations" ng-click="undelete_annotations()">
                          <i class="mdi mdi-file-restore"></i>
                          <span data-l10n-id="jump_to_page_label">{{'menu_dropdown.restore_deleted_annotations' | t}}</span>
                        </button>

                        <button id="deleteAnnotations" class="secondaryToolbarButton notable-nav-button" title="{{'menu_dropdown.delete_all_annotations' | t}}" data-l10n-id="delete_all_annotations" data-event-name="delete_all_annotations" ng-click="delete_all_annotations()" ng-disabled="undelete_annotations_active">
                          <i class="mdi mdi-delete"></i>
                          <span data-l10n-id="jump_to_page_label">{{'menu_dropdown.delete_all_annotations' | t}}</span>
                        </button>

                        <div class="horizontalToolbarSeparator"></div>

                        <button id="pageRotateCw" class="secondaryToolbarButton" title="{{'menu_dropdown.rotate_clockwise' | t}}" data-l10n-id="page_rotate_cw" data-event-name="page_rotate_cw">
                          <i class="mdi mdi-rotate-right"></i>
                          <span data-l10n-id="page_rotate_cw_label">{{'menu_dropdown.rotate_clockwise' | t}}</span>
                        </button>
                        <button id="pageRotateCcw" class="secondaryToolbarButton " title="{{'menu_dropdown.rotate_counterclockwise' | t}}" data-l10n-id="page_rotate_ccw" data-event-name="page_rotate_ccw">
                          <i class="mdi mdi-rotate-left"></i>
                          <span data-l10n-id="page_rotate_ccw_label">{{'menu_dropdown.rotate_counterclockwise' | t}}</span>
                        </button>

                        <div class="horizontalToolbarSeparator"></div>

                        <button id="onePageView" class="secondaryToolbarButton toggled" title="{{'menu_dropdown.one_page_view' | t}}" data-l10n-id="one_page_view" data-event-name="one_page_view">
                          <i class="mdi mdi-file"></i>
                          <span data-l10n-id="one_page_view_label">{{'menu_dropdown.one_page_view' | t}}</span>
                        </button>
                        <button id="twoPageView" class="secondaryToolbarButton" title="{{'menu_dropdown.two_page_view' | t}}" data-l10n-id="two_page_view" data-event-name="two_page_view">
                          <i class="fa fa-pause"></i>
                          <span data-l10n-id="two_page_view_label">{{'menu_dropdown.two_page_view' | t}}</span>
                        </button>
                        <button id="twoPageViewShowCoverPage" class="secondaryToolbarButton toggled hidden" title="{{'menu_dropdown.show_cover_page' | t}}" data-l10n-id="two_page_view_show_cover_page" data-event-name="two_page_view_show_cover_page">
                          <i class="fa fa-building-o"></i>
                          <span data-l10n-id="two_page_view_show_cover_page_label">{{'menu_dropdown.show_cover_page' | t}}</span>
                        </button>

                        <div class="horizontalToolbarSeparator"></div>

                        <button id="secondaryPresentationMode" class="secondaryToolbarButton" title="{{'menu_dropdown.switch_to_presentation_mode' | t}}" data-l10n-id="presentation_mode" data-event-name="presentation_mode">
                          <i class="customicon presentation"></i>
                          <span data-l10n-id="presentation_mode_label">{{'menu_dropdown.presentation_mode' | t}}</span>
                        </button>

                        <button id="toggleComments" class="secondaryToolbarButton" title="{{'menu_dropdown.toggle_comments' | t}}" ng-click="toggle_comments()" data-event-name="toggle_comments">
                          <i class="material-icons">insert_comment</i>
                          <span>{{hideComments ? 'menu_dropdown.show_comments' : 'menu_dropdown.hide_comments' | t}}</span>
                        </button>
                        <div class="horizontalToolbarSeparator"></div>

                        <button class="secondaryToolbarButton" title="{{'menu_dropdown.undo' | t}}" ng-click="undo_service.undo()" ng-disabled="!undo_service.hasUndo()" data-event-name="undo">
                          <i class="material-icons">undo</i>
                          <span>{{'menu_dropdown.undo' | t}}</span>
                        </button>

                        <button class="secondaryToolbarButton" title="{{'menu_dropdown.redo' | t}}" ng-click="undo_service.redo()" ng-disabled="!undo_service.hasRedo()" data-event-name="redo">
                          <i class="material-icons">redo</i>
                          <span>{{'menu_dropdown.redo' | t}}</span>
                        </button>

                      </div>
                    </div>
                  </div>  <!-- secondaryToolbar -->
                </div>

                <div id="secondary-toolbar-user" class="hiddenMediumView dropdown-common" data-event-name="user"
                  secondary-toolbar-toggle-dropdown="user" ng-controller="PremiumBadgeController" aria-label="user menu"
                  role="button" tabindex="0" aria-expanded="{{show_dropdown == 'user'}}">
                  <div class="avatar">
                    <div ng-if="referral_notify" class="unread-indicator profile"></div>
                    <a alt="{{current_user.name}}" class="initials" colorize-initials="{{current_user.id}}" data-event-name="user">{{(current_user.name | initials)}}</a>
                  </div>
                  <div class="secondaryToolbarButtonContainer" profile-dropdown hanger="top-right"></div>
                </div>

                <span data-testid="user-id" ng-if="current_user.id" style="display:none;">{{current_user.id}}</span>
              </div>
            </div>
            <div id="loadingBar" class="hidden">
              <div class="progress">
                <div class="glimmer">
                </div>
              </div>
              <input type="text" class="loaded-amount hidden" readonly />
            </div>
          </div>
        </div>

        <div id="annotations-toolbar-container"><!-- ng-hide="feature_enabled('new_topnavbar')"> -->
          <annotations-toolbar media-tool></annotations-toolbar>
        </div>

        <div id="floating-cards" ng-controller="FloatingCardsController">
          <floating-card-item ng-repeat="card in cards track by card.id"></floating-card-item>
        </div>

        <div id="viewerContainer" ng-controller="CommentsController" update-annotation-count position-layer pinch-zoom ng-class="{'viewer-container-mouse-passthrough-annotations': annotation_state.should_mouse_passthrough_annotations(),
        'viewer-container-dictionary-mode': (annotation_state.annotation_mode == 'normal' && annotation_state.selection_submode == 'dictionary') || annotation_state.annotation_mode == 'dictionary',
        'viewer-container-default-select-mode': annotation_state.is_default_selection_mode(),
        'viewer-container-select-annotations-mode': annotation_state.is_annotation_selection_mode(),
        'viewer-container-presentation-mode': annotation_state.is_presentation_mode()
        }" aria-label="{{'viewer.document_area' | t}}">
          <!-- viewer MUST be the first element -->
          <div id="viewer" class="pdfViewer" ng-class="{'hide': page_state.document_load_state.state == 'loading' && page_state.document_load_state.hide_document_while_loading, 'viewer-loaded': page_state.is_initialized, 'drawing-mode': annotation_state.is_drawing_mode(true), 'shape-creation-mode': annotation_state.is_shape_creation_mode(), 'ai-tools-area-mode': annotation_state.in_ai_area_mode() && annotation_state.is_in_ai_tool(), 'ai-tools-text-mode': annotation_state.in_ai_text_mode() && annotation_state.is_in_ai_tool(), 'inverted-pdf-colors': inverted_pdf_colors }"></div>
          <div ng-show="teacher_to_return_assessment" class="work-returned-container">{{'return_assessment.well_done_your_work_has_been_turned_in' | t}}</div>
          <!-- The pages are deleted if the ng-if is moved to grade-by-page-wrapper directly, not sure the reason... -->
          <grade-by-page-wrapper ng-if="page_state.document_state.grade_by_page_state == 'marking' && page_state.is_initialized">
          </grade-by-page-wrapper>
          <loading-screen ng-show="loading_state.state == 'loading'"></loading-screen>
          <div id="commentsLayer" collision-detection ng-show="page_state.document && page_state.is_initialized">
            <svg id="svgDragParent" height="100" width="100">
            </svg>
            <!-- Comments -->
            <div ng-controller="CommentController" ng-repeat="commentObj in comments track by commentObj.id"  restore-pointer restore-new-highlights restore-highlights>
              <annotation-comment set-up-comment comment-spotlight ng-if="!hideComments"></annotation-comment>
            </div>
            <!-- Radio Question Hints -->
            <div ng-controller="CommentController" ng-repeat="commentObj in radios track by commentObj.id">
              <question-hint set-up-comment comment-spotlight ng-if="showHint"></question-hint>
            </div>
            <!-- Dropdown Question Hints -->
            <div ng-controller="CommentController" ng-repeat="commentObj in dropdowns track by commentObj.id">
              <question-hint set-up-comment comment-spotlight ng-if="showHint"></question-hint>
            </div>
            <!-- TextInput Question Hints -->
            <div ng-controller="CommentController" ng-repeat="commentObj in textinputs track by commentObj.id">
              <question-hint set-up-comment comment-spotlight ng-if="showHint"></question-hint>
            </div>

            <!-- Highlights -->
            <div class="highlightBody" ng-controller="CommentController" ng-repeat="commentObj in highlights track by commentObj.id" restore-new-highlights restore-highlights id="comment-{{::commentObj.id}}" ng-class="commentObj.referring_to.user_action"></div>
            <!-- Texts -->
            <div ng-controller="CommentController" ng-repeat="commentObj in texts track by commentObj.id" id="comment-{{::commentObj.id}}" setup-in-textlayer></div>
            <!-- Richtexts -->
            <div ng-controller="CommentController" ng-repeat="commentObj in richtexts track by commentObj.id" id="comment-{{::commentObj.id}}" restore-richtext></div>
            <!-- Dropdowns -->
            <div ng-controller="CommentController" ng-repeat="commentObj in dropdowns track by commentObj.id" id="comment-{{::commentObj.id}}" restore-question></div>
            <!-- TextInputs -->
            <div ng-controller="CommentController" ng-repeat="commentObj in textinputs track by commentObj.id" id="comment-{{::commentObj.id}}" restore-question></div>
            <!-- Radios -->
            <div ng-controller="CommentController" ng-repeat="commentObj in radios track by commentObj.id" id="comment-{{::commentObj.id}}" restore-question></div>
            <!-- Score Only / Generic -->
            <div ng-controller="CommentController" ng-repeat="commentObj in scoreonlys track by commentObj.id" id="comment-{{::commentObj.id}}" restore-question></div>
            <!-- SVG elements -->
            <div ng-controller="CommentController" ng-repeat="commentObj in drawings track by commentObj.id" restore-drawings></div>
            <!-- Autographs -->
            <div ng-controller="CommentController" ng-repeat="commentObj in autographs track by commentObj.id" id="comment-{{::commentObj.id}}" restore-autograph></div>
            <!-- Form fields -->
            <div ng-controller="CommentController" ng-repeat="commentObj in form_fields track by commentObj.id" id="comment-{{::commentObj.id}}" restore-form-field></div>
            <!-- Images -->
            <div ng-controller="CommentController" ng-repeat="commentObj in images track by commentObj.id" id="comment-{{::commentObj.id}}" restore-autograph></div>
            <!-- Stickers -->
            <div ng-controller="CommentController" ng-repeat="commentObj in stickers track by commentObj.id" id="comment-{{::commentObj.id}}" restore-autograph></div>
            <!-- Equations -->
            <div ng-controller="CommentController" ng-repeat="commentObj in equations track by commentObj.id" id="comment-{{::commentObj.id}}" restore-equation></div>
            <!-- Video Annotations -->
            <div ng-controller="CommentController" ng-repeat="commentObj in video_annotations track by commentObj.id" id="comment-{{::commentObj.id}}" restore-video-annotation></div>
          </div>
          <div id="rightToolbarSpacer"></div><!-- This element is absolute positioned to fill space for right toolbar docking -->
          <div ng-controller="ActionBarController">
            <action-bar
              ng-if="show_scope.commentObj && page_state.document"
              visible="visible"
              show-event="show_event"
              triangle-slop="triangle_slop"
              gap="gap"
              scope="show_scope"
              should-reposition="reposition"
              triangle-listener-event="triangle_event"
              crop="crop"
              can-delete="can_delete"
              convert-to-comment="convert_to_comment"
              force-hide="hide_when_dragging"
              palette-open="palette_open"
              element="ref_element">
            </action-bar>
          </div>
          <styler-palette></styler-palette>
          <dictionary-popup></dictionary-popup>
          <aix-tool-handler ng-if="annotation_state.dictionary_submode !== 'dictionary'" dictionary-submode="annotation_state.dictionary_submode"></aix-tool-handler>
          <presentation-mode-controls></presentation-mode-controls>

          <open-file ng-if="tried_loading_state && page_state.document_load_state.state == 'none' && !is_embed"></open-file>
          <div ng-controller="TTSController">
            <div class="highlightBody highlight" ng-repeat="commentObj in highlights track by commentObj.id" restore-new-highlights id="comment-{{::commentObj.id}}"></div>
          </div>
          <kami-debug-info></kami-debug-info>
        </div>

        <div id="errorWrapper" hidden='true'>
          <div id="errorMessageLeft">
            <span id="errorMessage"></span>
            <button id="errorShowMore" data-l10n-id="error_more_info">
           {{'error_dialog.more_information' | t}}
            </button>
            <button id="errorShowLess" data-l10n-id="error_less_info" hidden='true'>
            {{'error_dialog.less_information' | t}}
            </button>
          </div>
          <div id="errorMessageRight">
            <button id="errorClose" data-l10n-id="error_close">
            {{'global.close' | t}}
            </button>
          </div>
          <div class="clearBoth"></div>
          <textarea id="errorMoreInfo" readonly="readonly"></textarea>
          <textarea id="errorMoreInfo" readonly="readonly" ng-controller="ErrorViewController">{{debug()}}</textarea>
        </div>

        <!-- Notable information bottom overlay -->
        <div class="page-info-collaborator-icons-wrapper" ng-show="page_state.document && !feature_enabled('new_topnavbar')">
          <div class="page-info-wrapper" ng-controller="PageInfoController">
            <div id="page-info">
              <label for="pageNumber">{{'global.page' | t}}</label>
              <input id="pageNumber" class="pageNumber" type="number" ng-model="page" />
              <span id="numPages" aria-label="{{'global.total_pages' | t}}"></span>
            </div>
          </div>
          <collaborator-icons></collaborator-icons>
        </div>

        <!-- Show offline information -->
        <div class="bottom-wrapper dont-overlap" ng-show="page_state.document">
          <!-- Keep controller alive as it's a dependency for other services. Todo independent dependencies -->
          <div id="online-status" ng-controller="OnlineStatusController" ng-show="what === 'Offline'">
            <span id="online-status-short">{{'online_status.offline' | t}}</span>
            <span id="online-status-long">{{'online_status.working_offline' | t}}</span>
            <span id="online-status-expand">. {{'online_status.we_ll_automatically_synchronise_changes_when_online' | t}}</span>
          </div>
        </div>

        <div id="snackbar" class="mdl-js-snackbar mdl-snackbar" mdl-snackbar-parse>
          <div class="mdl-snackbar__text"></div>
          <div id="snack-progress" class="mdl-progress mdl-js-progress" mdl-parse></div>
          <button class="mdl-snackbar__action" type="button"></button>
        </div>

        <div class="sidepanel-container" ng-class="{'left': toolbar_docking === 'right', 'right': toolbar_docking === 'left'}">
          <collaboration-side-panel
            ng-hide="!feature_enabled('new_topnavbar')"
            users="onlineCollaborators"
            online_users="onlineUsers"
            style="align-self: stretch;"
          ></collaboration-side-panel>
          <question-panel
            style="align-self: stretch;"
            ng-if="page_state.document_state.grade_by_page_state != 'marking' && page_state.document && page_state.is_initialized">
          </question-panel>
        </div>

        <footer-controls
          ng-show="feature_enabled('new_topnavbar')"
          is_in_document_view="!!page_state.document"
          ng-class="{'right': toolbar_docking === 'left', 'left': toolbar_docking === 'right'}"
        ></footer-controls>
      </div> <!-- mainContainer -->


      <screen-mask></screen-mask>
      <kami-grader></kami-grader>
      <microsoft-teams-copies-side-panel-react
        ng-if="microsoft_teams_opener.copiesActive"
        resource-id="microsoft_teams_opener.resourceId"
        microsoft-user-id="microsoft_teams_opener.microsoftUserId"
      >
      </microsoft-teams-copies-side-panel-react>

       <div id="overlayContainer" class="hidden">
        <div id="passwordOverlay" class="container hidden" password-prompt>
          <div class="dialog">
            <div class="row">
              <p id="passwordText" data-l10n-id="password_label">{{'password_dialog.enter_the_password_to_open_this_pdf_file' | t}}</p>
            </div>
            <div class="row">
              <!-- The type="password" attribute is set via script, to prevent warnings in Firefox for all http:// documents. -->
              <input id="password" class="toolbarField" autocomplete="off" >
            </div>
            <div class="buttonRow">
              <button id="passwordCancel" class="overlayButton"><span data-l10n-id="password_cancel">{{'password_dialog.cancel' | t}}</span></button>
              <button id="passwordSubmit" class="overlayButton"><span data-l10n-id="password_ok">{{'password_dialog.ok' | t}}</span></button>
            </div>
          </div>
        </div>
        <div id="documentPropertiesOverlay" class="container hidden">
          <div class="dialog">
            <div class="row">
              <span data-l10n-id="document_properties_file_name">{{'document_properties.file_name' | t}}</span> <p id="fileNameField">-</p>
            </div>
            <div class="row">
              <span data-l10n-id="document_properties_file_size">{{'document_properties.file_size' | t}}</span> <p id="fileSizeField">-</p>
            </div>
            <div class="separator"></div>
            <div class="row">
              <span data-l10n-id="document_properties_title">{{'document_properties.title' | t}}</span> <p id="titleField">-</p>
            </div>
            <div class="row">
              <span data-l10n-id="document_properties_author">{{'document_properties.author' | t}}</span> <p id="authorField">-</p>
            </div>
            <div class="row">
              <span data-l10n-id="document_properties_subject">{{'document_properties.subject' | t}}</span> <p id="subjectField">-</p>
            </div>
            <div class="row">
              <span data-l10n-id="document_properties_keywords">{{'document_properties.keywords' | t}}</span> <p id="keywordsField">-</p>
            </div>
            <div class="row">
              <span data-l10n-id="document_properties_creation_date">{{'document_properties.creation_date' | t}}</span> <p id="creationDateField">-</p>
            </div>
            <div class="row">
              <span data-l10n-id="document_properties_modification_date">{{'document_properties.modification_date' | t}}</span> <p id="modificationDateField">-</p>
            </div>
            <div class="row">
              <span data-l10n-id="document_properties_creator">{{'document_properties.creator' | t}}</span> <p id="creatorField">-</p>
            </div>
            <div class="separator"></div>
            <div class="row">
              <span data-l10n-id="document_properties_producer">{{'document_properties.pdf_producer' | t}}</span> <p id="producerField">-</p>
            </div>
            <div class="row">
              <span data-l10n-id="document_properties_version">{{'document_properties.pdf_version' | t}}</span> <p id="versionField">-</p>
            </div>
            <div class="row">
              <span data-l10n-id="document_properties_page_count">{{'document_properties.page_count' | t}}</span> <p id="pageCountField">-</p>
            </div>
            <div class="row">
              <span>{{'document_properties.annotations_word_count' | t}}</span> <p>{{word_count}}</p>
            </div>
            <div class="buttonRow">
              <button id="documentPropertiesClose" class="overlayButton"><span data-l10n-id="document_properties_close">{{'global.close' | t}}</span></button>
            </div>
          </div>
        </div>
      </div>  <!-- outerContainer -->
      <div id="guest-user-email-request-window" class="kami-overlay-container" ng-controller="GuestUserRequestController" ng-show="show_email_request" click-shadow-to-exit="close">
        <div class="kami-dialog">
          <div class="header">
            <h1 ng-hide="ask_for_email_only">{{'action_required_dialog.sorry_to_interrupt' | t}}</h1>
            <h1 ng-show="ask_for_email_only">{{'action_required_dialog.action_required' | t}}</h1>
            <button class="close" aria-label="close" ng-click="close()"></button>
          </div>
          <div class="body">
            <p ng-hide="ask_for_email_only">{{'action_required_dialog.sign_up_now_so_you_don_t_lose_access_to_your_work' | t}}</p>
            <p ng-show="ask_for_email_only">{{'action_required_dialog.your_work_is_saved_to_kami_cloud' | t}}</p>
            <ul class="errors" ng-show="errors.length">
              <li class="error" ng-repeat="error in errors">
                {{error}}
              </li>
            </ul>
            <div class="fields" spellcheck="false">
              <input class="kami-input" type="text" placeholder="{{'action_required_dialog.name' | t}} *" ng-model="name" ng-hide="ask_for_email_only" />
              <input class="kami-input" type="email" placeholder="{{'action_required_dialog.email' | t}} *" ng-model="email" />
            </div>
            <div class="button-row">
              <button class="button primary" ng-disabled="purchase-disabled" ng-click="change()">{{'action_required_dialog.next' | t}}</button>
            </div>
            <p>
              <a class="link-button secondary" ng-click="show_login()">{{'action_required_dialog.i_already_have_an_account_or_want_to_login_with_google' | t}}</a>
            </p>
          </div>
        </div>
      </div>
      <localstore-disabled-warning></localstore-disabled-warning>

      <input id="fileInput"  class="fileInput" type="file" accept="application/pdf|image/*" ng-controller="FileInputController" ngf-select="open_selected_file($file)" oncontextmenu="noContextMenuHandler" />
      <undelete-annotations-actionbar></undelete-annotations-actionbar>

    </div>

    <div id="loading-failed-message" class="kami-overlay-container bg-full-opacity" ng-cloak ng-show="false">
      <div class="kami-dialog">
        <div class="header">
          <h1>{{'error_dialog.whoops_an_unexpected_error_occurred' | t}}</h1>
        </div>
        <div class="body">
          <p ng-bind-html="'error_dialog.please_email_support' | t: {email_link:'<a href=\'mailto:support@kamiapp.com\' target=\'_blank\'>support@kamiapp.com</a>'}"></p>
          <p ng-bind-html="'error_dialog.check_out_twitter' | t:{twitter_link:'<a href=\'https://twitter.com/kamiapp\' target=\'_blank\'>@kamiapp</a>'}"></p>
          <pre id="loading-failed-debug" class="drive-message debug-message"></pre>
        </div>
      </div>
    </div>

    <img class="turnin-animation turnin-animation-left"  alt=""/>
    <img class="turnin-animation turnin-animation-right"  alt=""/>

    <div id="printContainer"></div>

    <script async src="https://apis.google.com/js/client.js?onload=gapi_loaded"></script>

<div id="mozPrintCallback-shim" hidden>
  <style>
@media print {
  #printContainer div {
    page-break-after: always;
    page-break-inside: avoid;
  }
}
  </style>
  <style scoped>
#mozPrintCallback-shim {
  position: fixed;
  top: 0;
  left: 0;
  height: 100%;
  width: 100%;
  z-index: 9999999;

  display: block;
  text-align: center;
  background-color: rgba(0, 0, 0, 0.5);
}
#mozPrintCallback-shim[hidden] {
  display: none;
}
@media print {
  #mozPrintCallback-shim {
    display: none;
  }
}

#mozPrintCallback-shim .mozPrintCallback-dialog-box {
  display: inline-block;
  margin: -50px auto 0;
  position: relative;
  top: 45%;
  left: 0;
  min-width: 220px;
  max-width: 400px;

  padding: 9px;

  border: 1px solid hsla(0, 0%, 0%, .5);
  border-radius: 2px;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);

  background-color: #474747;

  color: hsl(0, 0%, 85%);
  font-size: 16px;
  line-height: 20px;
}
#mozPrintCallback-shim .progress-row {
  clear: both;
  padding: 1em 0;
}
#mozPrintCallback-shim progress {
  width: 100%;
}
#mozPrintCallback-shim .relative-progress {
  clear: both;
  float: right;
}
#mozPrintCallback-shim .progress-actions {
  clear: both;
}
  </style>
  <div class="mozPrintCallback-dialog-box">
    <!-- TODO: Localise the following strings -->
    Preparing document for printing...
    <div class="progress-row">
      <progress value="0" max="100"></progress>
      <span class="relative-progress">0%</span>
    </div>
    <div class="progress-actions">
      <input type="button" value="Cancel" class="mozPrintCallback-cancel">
    </div>
  </div>
</div>


    <script>
      // Compatibility workaround for https://github.com/angular/angular.js/issues/15772 (incompatability between angular and pdf.js on IE 11)
      if (!!window.MSInputMethodContext && !!document.documentMode)
      {
        angular.bootstrap(document.body, ['notable']);
      }
    </script>
  </body>
</html>

